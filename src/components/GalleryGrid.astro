---
import { Image } from "astro:assets";
import { assets } from "../config/site";
const { images = assets.gallery || [] } = Astro.props;
---
<section id="gallery" class="bg-surface section-gap">
  <div class="wrap text-center">
    <h2 class="text-3xl md:text-4xl font-semibold text-gray-900">Fresh from the Oven</h2>

    {images.length ? (
      <div class="mt-10 grid gap-6 sm:grid-cols-2 md:grid-cols-3">
        {images.map((src, i) => (
          <div class="gallery-img cursor-pointer" data-lightbox-index={i}>
            <Image
              src={src}
              alt={`Gallery image ${i + 1}`}
              class="aspect-4/3"
              loading="lazy"
              decoding="async"
              widths={[480, 768, 1024]}
              sizes="(min-width: 1024px) 33vw, (min-width: 640px) 50vw, 100vw"
            />
          </div>
        ))}
      </div>
    ) : (
      <div class="mt-10 grid gap-6 sm:grid-cols-3 text-gray-600">
        <div class="gallery-img bg-alt aspect-4/3"></div>
        <div class="gallery-img bg-alt aspect-4/3"></div>
        <div class="gallery-img bg-alt aspect-4/3"></div>
      </div>
    )}
  </div>
</section>
