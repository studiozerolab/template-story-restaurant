---
/**
 * Props:
 * - id?: string
 * - heading: string
 * - copy: string
 * - reverse?: boolean  (alternates left/right)
 * - bg?: "surface" | "alt"
 */
const { id, heading, name, hours = [], address, phone, copy, reverse = false, bg = "surface" } = Astro.props;

const bgClass = bg === "alt" ? "bg-alt" : "bg-surface";
const reverseCls = reverse ? "md:[&>div:first-child]:order-2" : "";
const tel = phone ? phone.replace(/[^0-9]/g, "") : "";
---
<section id={id} class={`${bgClass} section-gap`}>
  <div class={`wrap grid gap-10 md:grid-cols-2 items-center ${reverseCls}`}>
    <div class="max-w-prose">
      <h2 class="text-3xl md:text-4xl font-semibold text-gray-900">{heading}</h2>

      {hours.length ? (
        <ul class="mt-4 space-y-1 text-gray-600">
          {hours.map((h) => (
            <li><strong>{h.days}</strong> {h.open} - {h.close}</li>
          ))}
        </ul>
      ) : null}

      {address && <p class="mt-3 text-gray-600">{address}</p>}

      {phone && (
        <p class="mt-4">
            <a
              href={`tel:${tel}`}
              aria-label={`Call ${name} at ${phone}`}
              class="text-[var(--color-primary)] font-semibold underline-offset-4 hover:underline focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[var(--color-primary)] focus-visible:ring-offset-2 focus-visible:ring-offset-[var(--color-alt)] rounded"
              itemprop="telephone"
            >
              <strong>{phone}</strong>
            </a>
          </p>
      )}
      
      <p class="mt-4 text-gray-600 leading-relaxed">{copy}</p>
    </div>
    
    <div class="rounded-2xl overflow-hidden shadow-sm">
        <iframe
            src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3021.927386321533!2d-73.42533988459438!3d40.86815317931466!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x89e82809a76d60b3%3A0xXXXXXXXXXXXXXX!2sHarbor%20Pizzeria!5e0!3m2!1sen!2sus!4v0000000000000"
            width="100%"
            height="300"
            style="border:0;"
            allowfullscreen=""
            loading="lazy"
            referrerpolicy="no-referrer-when-downgrade">
        </iframe>
    </div>
  </div>
</section>
